我将按照您的要求，对项目进行深度封装重构，采用**严格的门面模式（Facade Pattern）**，并完善全链路的中文文档。

### 核心设计思想
1.  **极致封装**：每个包仅通过一个 `public` 的**门面类**对外暴露。
2.  **职责分离**：门面类只负责定义“输入数据结构”、“输出数据结构”和“功能入口”，具体的“解析/处理逻辑”全部下沉到包级私有（package-private）的实现类中。
3.  **文档驱动**：每个包配备独立的 `README.md` 说明内部流程，根目录配备总 `README.md` 说明整体架构。

### 具体执行计划

#### 1. 全局文档 (Root Documentation)
-   **文件**: `README.md` (项目根目录)
-   **内容**:
    -   整体编译器流水线架构图（Mermaid/文本）。
    -   各模块职责摘要。
    -   如何运行和使用。

#### 2. 各模块重构与文档 (Package Refactoring & Docs)

我将依次对以下包执行“**抽离实现 -> 净化门面 -> 编写文档**”的操作：

*   **词法分析包 (`com.zds.lexer`)**
    *   **重构**: 将 `Lexer` 类中的扫描逻辑剥离到 `ScannerCore` (私有类)。`Lexer` 类仅保留 `Token` 定义和 `scan()` 静态入口。
    *   **文档**: `src/main/java/com/zds/lexer/README.md` (解释 DFA/状态机流程)。

*   **语法分析包 (`com.zds.parser`)**
    *   **重构**: 确保 `Parser` 类仅定义 AST 节点结构和 `analyze()` 入口。解析逻辑保留在 `Recognizer` (私有类) 中。
    *   **文档**: `src/main/java/com/zds/parser/README.md` (解释递归下降算法、文法规则)。

*   **语义分析包 (`com.zds.Semantic`)**
    *   **重构**: 确保 `Semantic` 类仅定义 `Result`、`Scope` 等结构和入口。分析逻辑保留在 `Analyzer` (私有类) 中。
    *   **文档**: `src/main/java/com/zds/Semantic/README.md` (解释符号表、类型检查规则)。

*   **中间代码包 (`com.zds.IR`)**
    *   **重构**: 确保 `IR` 类仅定义 `Quad` 结构和入口。生成逻辑保留在 `Generator` (私有类) 中。
    *   **文档**: `src/main/java/com/zds/IR/README.md` (解释四元式结构、转换流程)。

*   **优化器包 (`com.zds.optimizer`)**
    *   **重构**: 将具体的优化算法（如死代码消除、常量折叠）封装到 `OptimizationPass` (私有类) 体系中。`Optimizer` 仅作为入口。
    *   **文档**: `src/main/java/com/zds/optimizer/README.md` (解释优化策略)。

*   **代码生成包 (`com.zds.codegen`)**
    *   **重构**: 确保 `CodeGen` 类仅定义 `Instr` 结构和入口。生成逻辑保留在 `AsmBuilder` (私有类) 中。
    *   **文档**: `src/main/java/com/zds/codegen/README.md` (解释指令选择、伪汇编格式)。

*   **服务包 (`com.zds.service`)**
    *   **重构**: `CompilerService` 作为总门面，协调上述各包。
    *   **文档**: `src/main/java/com/zds/service/README.md` (解释全流程组装)。

#### 3. 统一规范
-   所有门面类的 Javadoc 将统一格式，明确标注“输入”、“输出”和“处理逻辑索引”。
-   所有私有实现类对外不可见，强制用户通过门面调用。

我将按照依赖顺序（Lexer -> Parser -> ... -> Service）执行此计划。